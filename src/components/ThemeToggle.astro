---
import SunIcon from "./icons/SunIcon.astro";
import MoonIcon from "./icons/MoonIcon.astro";
---

<button
  id="themeToggle"
  class="p-2 rounded-md cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 active:bg-slate-200 dark:active:bg-slate-700"
>
  <span class="sr-only dark:hidden">Enable dark mode</span>
  <SunIcon class="dark:hidden" />

  <span class="sr-only hidden dark:inline">Enable light mode</span>
  <MoonIcon class="hidden dark:inline" />
</button>

<script is:inline>
  const handleToggleClick = () => {
    const element = document.documentElement;
    element.classList.toggle("dark");

    const isDark = element.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  };

  document
    .getElementById("themeToggle")
    ?.addEventListener("click", handleToggleClick);
</script>
