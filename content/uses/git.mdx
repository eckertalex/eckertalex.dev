---
title: 'Git'
description: 'Snippets and other git tips and tricks.'
---

## Configuration

For ease of use, I decided to store all my custom git configurations in a `git/`
folder under `~/.config/`, except the “root” `.gitconfig`.

### Root .gitconfig

The “root” `.gitconfig` is located at `~/.gitconfig`. Here we can specify a
default git user with name and email, as well as configure our default commit
editor.

```toml:~/.gitconfig {1-9}
[user]
  name = <username>
  email = <default.git@email.com>
[init]
  defaultBranch = main
[pull]
  rebase = false
[core]
  editor = lvim
```

### Global .gitignore

If we want we can add a global `.gitignore` as well. I saved it to
`~/.gitignore`. Then we just need to include it in our `~/.gitconfig` as
follows:

```toml:~/.gitconfig {8,10}
[user]
  name = <username>
  email = <default.git@email.com>
[init]
  defaultBranch = main
[pull]
  rebase = false
[core]
  editor = lvim
  excludesfile = ~/.gitignore
```

### Git “Workspaces”

When I have two separate git profiles to manage, then git “workspaces” are very
handy. Assume we have work and personal git profiles. I like to separate these
projects in a different folder tree.

Work repositories are located at `~/dev` and personal ones at `~/private`. Let's
create a `work.gitconfig` and `personal.gitconfig` under `~/.config/git/`

```toml:~/.config/git/work.gitconfig {1-3}
[user]
  name = <Your Name>
  email = <Your Work Git Email>
```

```toml:~/.config/git/personal.gitconfig {1-3}
[user]
  name = <Your Name>
  email = <Your Personal Git Email>
```

Then update our “workspaces” `.gitconfig` as follows:

```toml:~/.gitconfig {8-11}
[user]
  name = <username>
  email = <default.git@email.com>
[init]
  defaultBranch = main
[pull]
  rebase = false
[includeIf "gitdir:~/dev"]
  path = ~/.config/git/work.gitconfig
[includeIf "gitdir:~/private/"]
  path = ~/.config/git/personal.gitconfig
[core]
  editor = lvim
  excludesfile = ~/.gitignore
```

### Git Diff (Delta Theme)

I am using delta as my git diff tool. It is configured so that we can use bat's
color scheme with it. Here is my
[git-delta config](https://github.com/eckertalex/dotfiles/blob/main/.config/delta/config)

That done we can configure git to use delta as our diff tool as follows:

```toml:~/.gitconfig {9,17-27}
[user]
  name = <username>
  email = <default.git@email.com>
[init]
  defaultBranch = main
[pull]
  rebase = false
[include]
  path = ~/.config/delta/config
[includeIf "gitdir:~/dev"]
  path = ~/.config/git/work.gitconfig
[includeIf "gitdir:~/private/"]
  path = ~/.config/git/personal.gitconfig
[core]
  editor = lvim
  excludesfile = ~/.gitignore
  pager = delta
[interactive]
  diffFilter = delta --color-only
[merge]
  conflictstyle = diff3
[diff]
  colorMoved = default
[delta]
  features = delta-theme
  navigate = true
  hyperlinks = true
```

## Aliases

### Frequently used aliases

Most of the aliases that I use come with the fish plugin
[jhillyerd/plugin-git](https://github.com/jhillyerd/plugin-git). Here is a
collection of the most useful:

#### General

- Shortcut for `git`
  - `g`

#### Status

- Status
  - `gss`

#### Staging

- Stage a file:
  - `ga`
- Stage all changes:
  - `gaa`

#### Commits

- Commit
  - `gc`
- Add all tracked changes and commit
  - `gca`
- Commit with inline message
  - `gcm`
- Add all tracked changes and commit with inline message
  - `gcam`
- Amend commit
  - `gc!`
- Amend without editing commit message
  - `gcn!`
- Add all changes and amend without editing commit message
  - `gcan!`

#### Diff

- Diffing
  - `gd`

#### Branches

- Show all branches
  - `gba`
- Delete a branch
  - `gbd`
- Force delete a branch
  - `gbD`

#### Checkout

- Checkout
  - `gco`
- Checkout new branch
  - `gcb`
- Fzf checkout
  - `fco`
  - This command uses `fzf` to show a filterable list of branches available to
    check out
  - Config here
    [~/.config/fish/config.fish](https://github.com/eckertalex/dotfiles/blob/main/.config/fish/config.fish#L87=)

#### Fetch

- Fetch
  - `gf`
- Fetch all and prune
  - `gfa`

#### Push

- Push
  - `gp`
- Force push
  - `gp!`
- Push all branches and tags to origin
  - `gpoat`

#### Pull

- Pull
  - `gl`
- Pull from origin
  - `ggl`

#### Log

- Short Log
  - `glo`
- Short Log graph
  - `glog`

#### Wip

- Commit wip
  - `gwip`
- Uncommit wip
  - `gunwip`

#### Stash

- Stash
  - `gsta`
- Apply stash
  - `gstaa`
- Clear stash
  - `gstc`
- List stash
  - `gstl`
- Drop stash
  - `gstd`
- Pop stash
  - `gstp`

#### Merge

- Merge
  - `gm`
- Abort merge
  - `gma`

#### Rebase

- Rebase
  - `grb`
- Interactive rebase
  - `grbi`
- Abort rebase
  - `grba`
- Skip rebase
  - `grbs`
- Continue rebase
  - `grbc`

#### Reset

- Reset
  - `grh`
- Hard reset
  - `grhh`

#### Cherry-pick

- Cherry-pick
  - `gcp`
- Abort cherry-pick
  - `gcpa`
- Continue cherry-pick
  - `gcpc`

#### Bisect

- Start Bisect
  - `gbss`
- Mark as bad
  - `gbsb`
- Mark as good
  - `gbsg`
- Reset Bisect
  - `gbsr`

#### Blame

- Open git blame
  - `gbl`

### Custom aliases

Find all my custom git aliases here
[~/.config/fish/config.fish](https://github.com/eckertalex/dotfiles/blob/main/.config/fish/config.fish#L92=)

#### Workflow aliases

- Discard changes in a (list of) file(s) in working tree

  - `gdiscard`

- Clean and discard changes and untracked files in working tree

  - `gcleanout`

- Unadd the changes and untracked files in working tree.

  - `unadd`

- Uncommit the last commit of the current branch.

  - `uncommit`

- Checkout last thing that was checked out
  - `gprev`
